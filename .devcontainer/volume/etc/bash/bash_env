prepend_path() {
  # Prepend existing directories to PATH, avoiding duplicates.
  # Usage: prepend_path dir1 dir2 ...
  for dir in "$@"; do
    [ -d "$dir" ] || continue  # Skip if not a directory
    case ":$PATH:" in
      *:"$dir":*) ;;  # Already in PATH, do nothing
      *) PATH=$dir:$PATH ;;  # Prepend to PATH
    esac
  done
}

prepend_path \
  "$HOME/.local/bin" \
  "$HOME/bin" \
  "/usr/local/bin" \
  "/usr/bin" \
  "/usr/games" \
  "/bin"


# XDG Base Directories
# - https://specifications.freedesktop.org/basedir-spec/latest
# - https://wiki.archlinux.org/title/XDG_Base_Directory
export XDG_DATA_HOME="${HOME}/.local/share"
export XDG_CONFIG_HOME="${HOME}/.config"
export XDG_STATE_HOME="${HOME}/.local/state"
export XDG_CACHE_HOME="${HOME}/.cache"


# Alias definitions
if [ -f /etc/bash/bash_aliases ]; then
    . /etc/bash/bash_aliases
fi

if [ -z "${USER}" ]; then export USER=$(whoami); fi

# Project Tasks
. /workspace/.devcontainer/tasks.sh
