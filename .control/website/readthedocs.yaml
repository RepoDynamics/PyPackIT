data_readthedocs:
  name: ${{ repo.name }}$
  platform: community
  version_scheme:
    single_version: false
    translation: false
  language: en
  jsonschema:
    schema:
      summary: Workflow configurations for the ReadTheDocs website.
      description: |
        These are used to create website preview links for pull requests.
      type: object
      additionalProperties: false
      required: [ name, platform, version_scheme, language ]
      properties:
        name:
          summary: Name of the project on ReadTheDocs.
          description: |
            This is the slug name of the project.
          type: string
        platform:
          summary: ReadTheDocs hosting platform type.
          type: string
          enum: [ community, business ]
        version_scheme:
          summary: Versioning scheme of the website.
          description: |
            See [ReadTheDocs documentation](https://docs.readthedocs.io/en/stable/versioning-schemes.html)
            for more information.
          type: object
          additionalProperties: false
          required: [ single_version, translation ]
          properties:
            single_version:
              summary: Whether the website has a single version (vs. multiple versions).
              type: boolean
            translation:
              summary: Whether the website supports multiple languages.
              type: boolean
        language:
          summary: Language of the website.
          type: string
file_readthedocs:
  name: ReadTheDocs Configuration
  summary: >-
    [Configuration file](https://docs.readthedocs.io/en/stable/config-file/v2.html) 
    for the [ReadTheDocs](https://readthedocs.org/) web hosting service.
  type: yaml
  path: .readthedocs.yaml
  path_schema:
    description: |
      By default, ReadTheDocs only looks for a 
      [`.readthedocs.yaml`]((https://docs.readthedocs.io/en/stable/config-file/index.html#where-to-put-your-configuration-file)) 
      file in the root of the repository.
      However, you can [change this manually](https://docs.readthedocs.io/en/stable/guides/setup/monorepo.html#how-to-use-a-readthedocs-yaml-file-in-a-sub-folder)
      by setting another path on the ReadTheDocs website,
      and then specifying that path here.
    default: .readthedocs.yaml
  content:
    version: 2
    build: # Set the version of Python and other tools you might need
      os: ubuntu-22.04
      tools:
        python: "mambaforge-4.10"
      jobs:
        post_checkout:
          # versioningit needs the full git history to determine the package's version at build time.
          # see: https://github.com/readthedocs/readthedocs.org/issues/5989#issuecomment-853039401
          - git fetch --unshallow
    conda: # Website dependencies
      environment: ${{ web.env.file.conda.path }}$
    python:
      install: # Install the package
        - method: pip
          path: ${{ pkg.path.root }}$
    sphinx: # Build with Sphinx
      configuration: ${{ web.path.source }}$/conf.py
      builder: dirhtml
      fail_on_warning: false
    formats: all  # Build all additional formats of the documentation, i.e. pdf, epub, and htmlzip
  jsonschema:
    schema: !ext https://raw.githubusercontent.com/readthedocs/readthedocs.org/refs/heads/main/readthedocs/rtd_tests/fixtures/spec/v2/schema.json
